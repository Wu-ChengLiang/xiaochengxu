import{w as s,a as e,j as a,V as c,S as i,u as l,I as t,T as n,A as r,N as d,q as o}from"./vendors.b1a33877.js";import{h as m}from"./common.d37aa707.js";const j=()=>{const j=s.useRouter(),{id:x}=j.params,[u,h]=e.useState(null),[N,p]=e.useState(!0),[f,b]=e.useState(1);e.useEffect(()=>{if(x){const s=m(x);s&&h(s),p(!1)}},[x]);const g=s=>{"increase"===s?b(f+1):"decrease"===s&&f>1&&b(f-1)},y=()=>{o({title:"\u529f\u80fd\u5f00\u53d1\u4e2d",icon:"none"})},q=()=>{o({title:"\u529f\u80fd\u5f00\u53d1\u4e2d",icon:"none"})};return N?a.jsx(c,{className:"product-detail-page",children:a.jsx(c,{className:"loading",children:"\u52a0\u8f7d\u4e2d..."})}):u?a.jsxs(c,{className:"product-detail-page",children:[a.jsx(i,{className:"product-swiper",circular:!0,autoplay:!0,children:a.jsx(l,{children:a.jsx(t,{className:"product-image",src:u.image,mode:"aspectFill"})})}),a.jsxs(c,{className:"product-info",children:[a.jsxs(c,{className:"price-section",children:[a.jsxs(c,{className:"price-row",children:[a.jsxs(n,{className:"price",children:["\xa5",u.price.toFixed(2)]}),a.jsxs(n,{className:"original-price",children:["\xa5",u.originalPrice.toFixed(2)]})]}),a.jsxs(n,{className:"unit",children:["/",u.unit]})]}),a.jsx(n,{className:"product-name",children:u.name}),a.jsx(n,{className:"product-desc",children:u.description})]}),a.jsxs(c,{className:"features-section",children:[a.jsx(n,{className:"section-title",children:"\u4ea7\u54c1\u7279\u8272"}),a.jsx(c,{className:"features-list",children:u.features.map((s,e)=>a.jsxs(c,{className:"feature-item",children:[a.jsx(c,{className:"feature-dot"}),a.jsx(n,{className:"feature-text",children:s})]},e))})]}),a.jsxs(c,{className:"specs-section",children:[a.jsx(n,{className:"section-title",children:"\u89c4\u683c\u53c2\u6570"}),a.jsx(c,{className:"specs-list",children:Object.entries(u.specifications).map(([s,e])=>a.jsxs(c,{className:"spec-item",children:[a.jsx(n,{className:"spec-label",children:s}),a.jsx(n,{className:"spec-value",children:e})]},s))})]}),a.jsxs(c,{className:"quantity-section",children:[a.jsx(n,{className:"section-title",children:"\u8d2d\u4e70\u6570\u91cf"}),a.jsxs(c,{className:"quantity-selector",children:[a.jsx(c,{className:"quantity-btn",onClick:()=>g("decrease"),children:a.jsx(r,{value:"subtract",size:"20",color:1===f?"#ccc":"#333"})}),a.jsx(n,{className:"quantity-value",children:f}),a.jsx(c,{className:"quantity-btn",onClick:()=>g("increase"),children:a.jsx(r,{value:"add",size:"20",color:"#333"})})]})]}),a.jsxs(c,{className:"action-bar",children:[a.jsxs(d,{className:"action-btn cart-btn",onClick:y,children:[a.jsx(r,{value:"shopping-cart",size:"20"}),a.jsx(n,{children:"\u52a0\u5165\u8d2d\u7269\u8f66"})]}),a.jsx(d,{className:"action-btn buy-btn",onClick:q,children:"\u7acb\u5373\u8d2d\u4e70"})]})]}):a.jsx(c,{className:"product-detail-page",children:a.jsx(c,{className:"empty",children:"\u5546\u54c1\u4e0d\u5b58\u5728"})})};export{j as default};
