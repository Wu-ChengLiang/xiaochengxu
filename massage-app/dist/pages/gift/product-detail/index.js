"use strict";const s=require("../../../taro.js"),e=require("../../../vendors.js"),t=require("../../../common.js"),i="",r=()=>{const i=s.taroExports.useRouter(),{id:r}=i.params,[c,a]=s.reactExports.useState(null),[x,n]=s.reactExports.useState(!0),[o,l]=s.reactExports.useState(1);s.reactExports.useEffect(()=>{if(r){const s=t.getProductById(r);s&&a(s),n(!1)}},[r]);const m=s=>{"increase"===s?l(o+1):"decrease"===s&&o>1&&l(o-1)},u=()=>{s.Taro.showToast({title:"\u529f\u80fd\u5f00\u53d1\u4e2d",icon:"none"})},j=()=>{s.Taro.showToast({title:"\u529f\u80fd\u5f00\u53d1\u4e2d",icon:"none"})};return x?s.jsxRuntimeExports.jsx(s.View,{className:"product-detail-page",children:s.jsxRuntimeExports.jsx(s.View,{className:"loading",children:"\u52a0\u8f7d\u4e2d..."})}):c?s.jsxRuntimeExports.jsxs(s.View,{className:"product-detail-page",children:[s.jsxRuntimeExports.jsx(s.Swiper,{className:"product-swiper",circular:!0,autoplay:!0,children:s.jsxRuntimeExports.jsx(s.SwiperItem,{children:s.jsxRuntimeExports.jsx(s.Image,{className:"product-image",src:c.image,mode:"aspectFill"})})}),s.jsxRuntimeExports.jsxs(s.View,{className:"product-info",children:[s.jsxRuntimeExports.jsxs(s.View,{className:"price-section",children:[s.jsxRuntimeExports.jsxs(s.View,{className:"price-row",children:[s.jsxRuntimeExports.jsxs(s.Text,{className:"price",children:["\xa5",c.price.toFixed(2)]}),s.jsxRuntimeExports.jsxs(s.Text,{className:"original-price",children:["\xa5",c.originalPrice.toFixed(2)]})]}),s.jsxRuntimeExports.jsxs(s.Text,{className:"unit",children:["/",c.unit]})]}),s.jsxRuntimeExports.jsx(s.Text,{className:"product-name",children:c.name}),s.jsxRuntimeExports.jsx(s.Text,{className:"product-desc",children:c.description})]}),s.jsxRuntimeExports.jsxs(s.View,{className:"features-section",children:[s.jsxRuntimeExports.jsx(s.Text,{className:"section-title",children:"\u4ea7\u54c1\u7279\u8272"}),s.jsxRuntimeExports.jsx(s.View,{className:"features-list",children:c.features.map((e,t)=>s.jsxRuntimeExports.jsxs(s.View,{className:"feature-item",children:[s.jsxRuntimeExports.jsx(s.View,{className:"feature-dot"}),s.jsxRuntimeExports.jsx(s.Text,{className:"feature-text",children:e})]},t))})]}),s.jsxRuntimeExports.jsxs(s.View,{className:"specs-section",children:[s.jsxRuntimeExports.jsx(s.Text,{className:"section-title",children:"\u89c4\u683c\u53c2\u6570"}),s.jsxRuntimeExports.jsx(s.View,{className:"specs-list",children:Object.entries(c.specifications).map(([e,t])=>s.jsxRuntimeExports.jsxs(s.View,{className:"spec-item",children:[s.jsxRuntimeExports.jsx(s.Text,{className:"spec-label",children:e}),s.jsxRuntimeExports.jsx(s.Text,{className:"spec-value",children:t})]},e))})]}),s.jsxRuntimeExports.jsxs(s.View,{className:"quantity-section",children:[s.jsxRuntimeExports.jsx(s.Text,{className:"section-title",children:"\u8d2d\u4e70\u6570\u91cf"}),s.jsxRuntimeExports.jsxs(s.View,{className:"quantity-selector",children:[s.jsxRuntimeExports.jsx(s.View,{className:"quantity-btn",onClick:()=>m("decrease"),children:s.jsxRuntimeExports.jsx(e.AtIcon,{value:"subtract",size:"20",color:1===o?"#ccc":"#333"})}),s.jsxRuntimeExports.jsx(s.Text,{className:"quantity-value",children:o}),s.jsxRuntimeExports.jsx(s.View,{className:"quantity-btn",onClick:()=>m("increase"),children:s.jsxRuntimeExports.jsx(e.AtIcon,{value:"add",size:"20",color:"#333"})})]})]}),s.jsxRuntimeExports.jsxs(s.View,{className:"action-bar",children:[s.jsxRuntimeExports.jsxs(s.Button,{className:"action-btn cart-btn",onClick:u,children:[s.jsxRuntimeExports.jsx(e.AtIcon,{value:"shopping-cart",size:"20"}),s.jsxRuntimeExports.jsx(s.Text,{children:"\u52a0\u5165\u8d2d\u7269\u8f66"})]}),s.jsxRuntimeExports.jsx(s.Button,{className:"action-btn buy-btn",onClick:j,children:"\u7acb\u5373\u8d2d\u4e70"})]})]}):s.jsxRuntimeExports.jsx(s.View,{className:"product-detail-page",children:s.jsxRuntimeExports.jsx(s.View,{className:"empty",children:"\u5546\u54c1\u4e0d\u5b58\u5728"})})};var c={navigationBarTitleText:"\u5546\u54c1\u8be6\u60c5"};Page(s.createPageConfig(r,"pages/gift/product-detail/index",{root:{cn:[]}},c||{}));
