{"version":3,"file":"index.js","sources":["../../../../src/pages/gift/product-detail/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { View, Text, Image, Button, Swiper, SwiperItem } from '@tarojs/components'\nimport Taro, { useRouter } from '@tarojs/taro'\nimport { AtIcon } from 'taro-ui'\nimport { getProductById } from '@/mock/data/gifts'\nimport './index.scss'\n\nconst ProductDetail: React.FC = () => {\n  const router = useRouter()\n  const { id } = router.params\n  const [productInfo, setProductInfo] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n  const [quantity, setQuantity] = useState(1)\n\n  useEffect(() => {\n    if (id) {\n      const product = getProductById(id as string)\n      if (product) {\n        setProductInfo(product)\n      }\n      setLoading(false)\n    }\n  }, [id])\n\n  const handleQuantityChange = (type: 'increase' | 'decrease') => {\n    if (type === 'increase') {\n      setQuantity(quantity + 1)\n    } else if (type === 'decrease' && quantity > 1) {\n      setQuantity(quantity - 1)\n    }\n  }\n\n  const handleAddToCart = () => {\n    Taro.showToast({\n      title: '功能开发中',\n      icon: 'none'\n    })\n  }\n\n  const handleBuyNow = () => {\n    Taro.showToast({\n      title: '功能开发中',\n      icon: 'none'\n    })\n  }\n\n  if (loading) {\n    return (\n      <View className=\"product-detail-page\">\n        <View className=\"loading\">加载中...</View>\n      </View>\n    )\n  }\n\n  if (!productInfo) {\n    return (\n      <View className=\"product-detail-page\">\n        <View className=\"empty\">商品不存在</View>\n      </View>\n    )\n  }\n\n  return (\n    <View className=\"product-detail-page\">\n      {/* 商品图片轮播 */}\n      <Swiper className=\"product-swiper\" circular autoplay>\n        <SwiperItem>\n          <Image \n            className=\"product-image\" \n            src={productInfo.image}\n            mode=\"aspectFill\"\n          />\n        </SwiperItem>\n      </Swiper>\n\n      {/* 商品信息 */}\n      <View className=\"product-info\">\n        <View className=\"price-section\">\n          <View className=\"price-row\">\n            <Text className=\"price\">¥{productInfo.price.toFixed(2)}</Text>\n            <Text className=\"original-price\">¥{productInfo.originalPrice.toFixed(2)}</Text>\n          </View>\n          <Text className=\"unit\">/{productInfo.unit}</Text>\n        </View>\n        <Text className=\"product-name\">{productInfo.name}</Text>\n        <Text className=\"product-desc\">{productInfo.description}</Text>\n      </View>\n\n      {/* 商品特色 */}\n      <View className=\"features-section\">\n        <Text className=\"section-title\">产品特色</Text>\n        <View className=\"features-list\">\n          {productInfo.features.map((feature: string, index: number) => (\n            <View key={index} className=\"feature-item\">\n              <View className=\"feature-dot\" />\n              <Text className=\"feature-text\">{feature}</Text>\n            </View>\n          ))}\n        </View>\n      </View>\n\n      {/* 规格参数 */}\n      <View className=\"specs-section\">\n        <Text className=\"section-title\">规格参数</Text>\n        <View className=\"specs-list\">\n          {Object.entries(productInfo.specifications).map(([key, value]) => (\n            <View key={key} className=\"spec-item\">\n              <Text className=\"spec-label\">{key}</Text>\n              <Text className=\"spec-value\">{value as string}</Text>\n            </View>\n          ))}\n        </View>\n      </View>\n\n      {/* 数量选择 */}\n      <View className=\"quantity-section\">\n        <Text className=\"section-title\">购买数量</Text>\n        <View className=\"quantity-selector\">\n          <View \n            className=\"quantity-btn\"\n            onClick={() => handleQuantityChange('decrease')}\n          >\n            <AtIcon value=\"subtract\" size=\"20\" color={quantity === 1 ? '#ccc' : '#333'} />\n          </View>\n          <Text className=\"quantity-value\">{quantity}</Text>\n          <View \n            className=\"quantity-btn\"\n            onClick={() => handleQuantityChange('increase')}\n          >\n            <AtIcon value=\"add\" size=\"20\" color=\"#333\" />\n          </View>\n        </View>\n      </View>\n\n      {/* 底部操作栏 */}\n      <View className=\"action-bar\">\n        <Button className=\"action-btn cart-btn\" onClick={handleAddToCart}>\n          <AtIcon value=\"shopping-cart\" size=\"20\" />\n          <Text>加入购物车</Text>\n        </Button>\n        <Button className=\"action-btn buy-btn\" onClick={handleBuyNow}>\n          立即购买\n        </Button>\n      </View>\n    </View>\n  )\n}\n\nexport default ProductDetail"],"names":["ProductDetail","router","useRouter","id","params","productInfo","setProductInfo","useState","loading","setLoading","quantity","setQuantity","useEffect","product","getProductById","handleQuantityChange","type","handleAddToCart","Taro","showToast","title","icon","handleBuyNow","jsx","View","jsxs","Swiper","SwiperItem","Image","image","Text","price","toFixed","originalPrice","unit","name","description","features","map","feature","index","Object","entries","specifications","key","value","AtIcon","Button"],"mappings":"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"}