# 数据库管理系统登录指南

## ✅ 系统状态
经过TDD测试验证，所有核心服务正常运行：
- ✅ 数据库服务运行正常 (端口3001)
- ✅ API路由完全可达
- ✅ Nginx代理工作正常
- ✅ 登录功能验证通过

## 🔐 可用登录账户

### 管理员账户
| 用户名 | 密码 | 角色 | 权限范围 |
|--------|------|------|----------|
| `ye_ceo` | `admin123` | CEO | 全部30家门店 |
| `chen_regional` | `admin123` | 分店长 | 4家门店 |
| `wang_regional` | `admin123` | 分店长 | 待配置 |
| `li_regional` | `admin123` | 分店长 | 待配置 |

## 🌐 访问地址
```
https://emagen.323424.xyz/database/admin.html#members
```

## 📋 登录步骤

### 1. 清除旧Token（如果之前登录过）
按F12打开浏览器控制台，执行：
```javascript
localStorage.clear();
```

### 2. 访问登录页面
在浏览器中打开管理后台地址

### 3. 使用有效凭据登录
- 用户名：`ye_ceo`
- 密码：`admin123`

### 4. 验证权限加载
登录成功后应该看到：
- 侧边栏显示用户信息："欢迎，ye_ceo (总裁)"
- 权限范围显示："权限范围: 全部门店"
- 能够访问所有功能模块

## 🔧 故障排除

### 如果登录仍然失败

1. **检查服务状态**
```bash
cd /home/chengliang/workspace/aicustomerservice/database
node test-login-diagnosis.js
```

2. **测试真实登录**
```bash
node test-real-login.js
```

3. **重启数据库服务**
```bash
pkill -f "node.*app.js"
node src/app.js &
```

### 常见问题

**Q: 提示"权限获取失败"**
A: 清除localStorage后重新登录，系统已添加自动检测机制

**Q: API请求404错误**
A: 确认数据库服务运行在端口3001，nginx代理配置正确

**Q: 登录后页面空白**
A: 检查浏览器控制台错误，可能是静态资源加载问题

## 🚀 系统功能

登录成功后可以使用：
- 📊 统计报表
- 👨‍⚕️ 技师管理  
- 📅 预约管理
- 📅 预约日历
- 🏪 门店管理
- 👥 会员管理

## 📞 技术支持

如果遇到其他问题：
1. 运行诊断脚本获取详细信息
2. 检查服务器日志
3. 联系技术团队

---

*最后更新: 2025-07-15*
*测试状态: ✅ 全部通过*